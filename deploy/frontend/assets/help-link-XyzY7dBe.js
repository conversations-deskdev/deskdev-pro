import{u as C}from"./useQuery-C6Oy5OYj.js";import{O as x}from"./open-hands-B3E073cv.js";import{R as m,j as i}from"./chunk-NL6KNZEE-aMulfElY.js";import{I as d}from"./declaration-DTN74MXe.js";import{m as O}from"./map-provider-D8d2rI4b.js";import{u as v}from"./useTranslation-bTmhRewG.js";import{a as S}from"./chunk-EG3YEEN2-C8jgHZop.js";import{l as f}from"./chunk-OBFX2YGI-PKFa5-VF.js";function j(s){return null}j.getCollectionNode=function*(t){let{children:l,title:o,items:a}=t;yield{type:"section",props:t,hasChildNodes:!0,rendered:o,"aria-label":t["aria-label"],*childNodes(){if(typeof l=="function"){if(!a)throw new Error("props.children was a function but props.items is missing");for(let r of a)yield{type:"item",value:r,renderer:l}}else{let r=[];m.Children.forEach(l,c=>{r.push({type:"item",element:c})}),yield*r}}}};let $=j;var P=$,E=P;const w=async()=>({models:await x.getModels(),agents:await x.getAgents(),securityAnalyzers:await x.getSecurityAnalyzers()}),G=()=>C({queryKey:["ai-config-options"],queryFn:w,staleTime:1e3*60*5,gcTime:1e3*60*15}),V=s=>!Number.isNaN(Number(s)),R=["openai","azure","anthropic","deepseek"],I=["o3-mini-2025-01-31","o3-2025-04-16","o4-mini-2025-04-16","claude-3-5-sonnet-20241022","claude-3-7-sonnet-20250219","claude-sonnet-4-20250514","claude-opus-4-20250514","deepseek-chat"],A=["gpt-4o","gpt-4o-mini","gpt-4-turbo","gpt-4","gpt-4-32k","o1-mini","o1","o3","o3-2025-04-16","o3-mini","o3-mini-2025-01-31","o4-mini","o4-mini-2025-04-16"],T=["claude-2","claude-2.1","claude-3-5-sonnet-20240620","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","claude-3-haiku-20240307","claude-3-opus-20240229","claude-3-sonnet-20240229","claude-3-7-sonnet-20250219","claude-sonnet-4-20250514","claude-opus-4-20250514"],k=s=>s[1]&&s[1][0]&&V(s[1][0]),D=s=>{let t="/",l=s.split(t);if(l.length===1&&(t=".",l=s.split(t),k(l)&&(l=[l.join(t)])),l.length===1)return A.includes(l[0])?{provider:"openai",model:l[0],separator:"/"}:T.includes(l[0])?{provider:"anthropic",model:l[0],separator:"/"}:{provider:"",model:s,separator:""};const[o,...a]=l;return{provider:o,model:a.join(t),separator:t}},J=s=>{const t={};return s.forEach(l=>{const{separator:o,provider:a,model:r}=D(l);if(a==="anthropic"&&o===".")return;const c=a||"other";t[c]||(t[c]={separator:o,models:[]}),t[c].models.push(r)}),t};function U({isDisabled:s,models:t,currentModel:l,onChange:o}){var L,g;const[,a]=m.useState(null),[r,c]=m.useState(null),[b,h]=m.useState(null);m.useEffect(()=>{if(l){const{provider:e,model:p}=D(l);a(l),c(e),h(p)}},[l]);const M=e=>{var u;c(e),h(null);const p=((u=t[e])==null?void 0:u.separator)||"";a(e+p)},N=e=>{var y;const p=((y=t[r||""])==null?void 0:y.separator)||"";let u=r+p+e;r==="openai"&&(u=e),a(u),h(e),o==null||o(u)},_=()=>{c(null),a(null)},{t:n}=v();return i.jsxs("div",{className:"flex flex-col md:flex-row w-[full] md:w-[680px] justify-between gap-4 md:gap-[46px]",children:[i.jsxs("fieldset",{className:"flex flex-col gap-2.5 w-full",children:[i.jsx("label",{className:"text-sm",children:n(d.LLM$PROVIDER)}),i.jsxs(S,{"data-testid":"llm-provider-input",isRequired:!0,isVirtualized:!1,name:"llm-provider-input",isDisabled:s,"aria-label":n(d.LLM$PROVIDER),placeholder:n(d.LLM$SELECT_PROVIDER_PLACEHOLDER),isClearable:!1,onSelectionChange:e=>{e!=null&&e.toString()&&M(e.toString())},onInputChange:e=>!e&&_(),defaultSelectedKey:r??void 0,selectedKey:r,classNames:{popoverContent:"bg-tertiary rounded-xl border border-[#717888]"},inputProps:{classNames:{inputWrapper:"bg-tertiary border border-[#717888] h-10 w-full rounded-sm p-2 placeholder:italic"}},children:[i.jsx(E,{title:n(d.MODEL_SELECTOR$VERIFIED),children:Object.keys(t).filter(e=>R.includes(e)).map(e=>i.jsx(f,{"data-testid":`provider-item-${e}`,children:O(e)},e))}),i.jsx(E,{title:n(d.MODEL_SELECTOR$OTHERS),children:Object.keys(t).filter(e=>!R.includes(e)).map(e=>i.jsx(f,{children:O(e)},e))})]})]}),i.jsxs("fieldset",{className:"flex flex-col gap-2.5 w-full",children:[i.jsx("label",{className:"text-sm",children:n(d.LLM$MODEL)}),i.jsxs(S,{"data-testid":"llm-model-input",isRequired:!0,isVirtualized:!1,name:"llm-model-input","aria-label":n(d.LLM$MODEL),placeholder:n(d.LLM$SELECT_MODEL_PLACEHOLDER),isClearable:!1,onSelectionChange:e=>{e!=null&&e.toString()&&N(e.toString())},isDisabled:s||!r,selectedKey:b,defaultSelectedKey:b??void 0,classNames:{popoverContent:"bg-tertiary rounded-xl border border-[#717888]"},inputProps:{classNames:{inputWrapper:"bg-tertiary border border-[#717888] h-10 w-full rounded-sm p-2 placeholder:italic"}},children:[i.jsx(E,{title:n(d.MODEL_SELECTOR$VERIFIED),children:(L=t[r||""])==null?void 0:L.models.filter(e=>I.includes(e)).map(e=>i.jsx(f,{children:e},e))}),i.jsx(E,{title:n(d.MODEL_SELECTOR$OTHERS),children:(g=t[r||""])==null?void 0:g.models.filter(e=>!I.includes(e)).map(e=>i.jsx(f,{"data-testid":`model-item-${e}`,children:e},e))})]})]})]})}function X({testId:s,text:t,linkText:l,href:o}){return i.jsxs("p",{"data-testid":s,className:"text-xs",children:[t," ",i.jsx("a",{href:o,rel:"noreferrer noopener",target:"_blank",className:"underline underline-offset-2",children:l})]})}export{X as H,U as M,D as e,J as o,G as u};
