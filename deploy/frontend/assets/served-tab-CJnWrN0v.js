import{j as t,w as j,R as s}from"./chunk-NL6KNZEE-aMulfElY.js";import{b as w}from"./index-C-I75-cD.js";import{d as b,f as N}from"./index-511DvycY.js";import{u as v}from"./use-active-host-BkjolFNu.js";import{I as R}from"./declaration-DTN74MXe.js";import{u as y}from"./useTranslation-bTmhRewG.js";import"./iconBase-DIdAY4IJ.js";import"./useQuery-C6Oy5OYj.js";import"./open-hands-axios-BZ-FJWYr.js";import"./open-hands-B3E073cv.js";import"./use-conversation-id-DSAGxhnW.js";import"./use-runtime-is-ready-DcR3CT1f.js";import"./react-redux-BM5MuSXj.js";import"./agent-state-u5yf9HVO.js";import"./use-active-conversation-BqsQjzrn.js";import"./i18nInstance-DBIXdvxg.js";function A({ref:l,onBlur:r,defaultValue:n}){return t.jsx("form",{ref:l,onSubmit:o=>o.preventDefault(),className:"flex-1",children:t.jsx("input",{name:"url",type:"text",defaultValue:n,className:"w-full bg-transparent",onBlur:r})})}function S(){const{t:l}=y(),{activeHost:r}=v(),[n,o]=s.useState(0),[u,c]=s.useState(null),[h,m]=s.useState("hello"),e=s.useRef(null),d=()=>{var a;if(e.current){const p=(a=new FormData(e.current).get("url"))==null?void 0:a.toString();if(p){const x=new URL(p);c(x.origin),m(x.pathname)}}},f=()=>{c(r),m(""),e.current&&e.current.reset()};s.useEffect(()=>{f()},[r]);const i=`${u}/${h}`;return u?t.jsxs("div",{className:"h-full w-full",children:[t.jsxs("div",{className:"w-full p-2 flex items-center gap-4 border-b border-neutral-600",children:[t.jsx("button",{type:"button",onClick:()=>window.open(i,"_blank"),className:"text-sm",children:t.jsx(b,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>o(a=>a+1),className:"text-sm",children:t.jsx(w,{className:"w-4 h-4"})}),t.jsx("button",{type:"button",onClick:()=>f(),className:"text-sm",children:t.jsx(N,{className:"w-4 h-4"})}),t.jsx("div",{className:"w-full flex",children:t.jsx(A,{ref:e,onBlur:d,defaultValue:i})})]}),t.jsx("iframe",{title:l(R.SERVED_APP$TITLE),src:i,className:"w-full h-full"},n)]}):t.jsx("div",{className:"flex items-center justify-center w-full h-full p-10",children:t.jsx("span",{className:"text-neutral-400 font-bold",children:"If you tell OpenHands to start a web server, the app will appear here."})})}const _=j(S);export{_ as default};
